#!/usr/bin/env Rscript
source('common.r')

j <- '
{ "0": 33729, "10": 31, "20": 25, "30": 26, "40": 18, "50": 14, "60": 14, "70": 17, "80": 18, "90": 22, "100": 10, "110": 18, "120": 16, "130": 11, "140": 10, "150": 2, "160": 13, "170": 10, "180": 14, "190": 9, "200": 10, "210": 9, "220": 13, "230": 10, "240": 15, "250": 9, "260": 6, "270": 5, "280": 8, "290": 9, "300": 10, "310": 5, "320": 10, "330": 11, "340": 11, "350": 5, "360": 7, "370": 3, "380": 5, "390": 9, "400": 6, "410": 4, "420": 6, "430": 9, "440": 10, "450": 10, "460": 2, "470": 8, "480": 6, "490": 5, "500": 7, "510": 7, "520": 4, "530": 6, "540": 1, "550": 6, "560": 5, "570": 5, "580": 5, "590": 3, "600": 1, "610": 4, "620": 3, "630": 2, "650": 3, "680": 6, "690": 5, "700": 2, "710": 1, "720": 2, "730": 1, "740": 7, "760": 3, "770": 2, "780": 5, "790": 6, "810": 6, "820": 4, "830": 3, "840": 1, "850": 1, "860": 1, "870": 4, "880": 1, "890": 1, "900": 3, "910": 2, "920": 1, "930": 1, "940": 2, "950": 4, "960": 1, "980": 4, "990": 2, "1000": 2, "1010": 5, "1020": 1, "1030": 3, "1050": 1, "1090": 3, "1110": 5, "1140": 1, "1150": 4, "1160": 1, "1180": 3, "1190": 2, "1200": 2, "1210": 2, "1220": 1, "1230": 1, "1250": 2, "1290": 1, "1300": 1, "1310": 1, "1320": 1, "1340": 2, "1350": 1, "1360": 1, "1390": 1, "1400": 2, "1410": 1, "1430": 1, "1440": 1, "1450": 1, "1470": 1, "1480": 1, "1490": 1, "1500": 2, "1510": 1, "1520": 1, "1560": 1, "1580": 1, "1640": 1, "1710": 1, "1720": 1, "1730": 1, "1770": 1, "1780": 1, "1790": 1, "1800": 1, "1810": 2, "1820": 1, "1840": 1, "2070": 2, "2100": 1, "2120": 1, "2200": 1, "2390": 1, "2430": 1, "2510": 1, "2530": 1, "2630": 1, "2890": 1, "3020": 1, "3240": 1, "3360": 1 }
'

l1 <- as.list(fromJSON(j))
df1 <- data.frame(x=num(names(l1)), y=vals(l1))
df1 <- df1[order(df1$x),]

df1

save(
  ggplot(subset(df1, x != 0), aes(x=x, weight=y))+
    geom_histogram(binwidth=100, fill=c.blue)+
    xlab('bid')+ylab('# of bids')+
    # scale_y_continuous(labels=si.labels())+
    theme_mine
, w=3.4, h=2.0)


